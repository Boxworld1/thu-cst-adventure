## 3-7 Sort  解题报告 ##

#### 容逸朗 2020010869 ####

### 1  解法 ###

题目给出一个三元比较器，要求利用此比较器实现数组排序功能。

由于可以同时比较三个元素，因此不难想到改进归并排序。若使用三路归并，则完成排序需要比较 $O(nlog_3(n))$ 次，不满足题目要求，而且浪费了比较后得到的最大值，因此更好的想法是四路归并。

首先，四路归并共需要比较 $O(nlog_4(n))$ 次，而 $\log_4(10^4)=6.64<7$，$\log_4(10^5)=8.31<8.7$，$ \log_4(10^6)=9.97<10.3$ 均满足条件，为此只需考虑如何实现四路归并即可。

#### 1.1 四路归并

最开始时，我们需要两次操作来决定四路首元素的大小关系，由此我们可以得到最小的元素和最大的元素所在的位置。此时最小元素完成排序，下一次归并时只需要考虑非最大元素的另外三列即可。

解释：对于比较结果为 `1 < 2 < 3` 的三列，假设列 `1` 为此时的最小数完成排序。那么下一次的最小元素也不会在 `3` 的这一列，因为 `2 < 3` 。

#### 1.2 退化情况

若四列元素中有一列为空，则退化为三路归并，此时只需要找出最小元素即可。

如果有两列元素为空，则退化为二路归并，那么可以多比较最小列的最小元素、次小元素及另一列的最小元素，在特殊情况下可以同时排列好两个元素，否则也至少了确认一个元素。

若仍有一列不为空，则直接加入到排好序的元素中便可。
